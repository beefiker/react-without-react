{"mappings":"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","sources":["index.tsx"],"sourcesContent":["const React = {\n  createElement: (tag, props, ...children) => {\n    if (typeof tag === \"function\") {\n      try {\n        return tag(props);\n      } catch ({ promise, key }) {\n        promise.then((data) => {\n          promiseCache.set(key, data);\n          rerender();\n        });\n        return {\n          tag: \"div\",\n          props: {\n            className: \"loader-container\",\n            children: [\n              {\n                tag: \"div\",\n                props: {\n                  className: \"loader\",\n                  children: [\n                    {\n                      tag: \"div\",\n                      props: {\n                        className: \"loader-inner\",\n                        children: [],\n                      },\n                    },\n                  ],\n                },\n              },\n              {\n                tag: \"h1\",\n                props: {\n                  className: \"loader-text\",\n                  children: [\"Loading Pokemon\"],\n                },\n              },\n            ],\n          },\n        };\n      }\n    }\n    const element = { tag, props: { ...props, children } };\n    return element;\n  },\n};\n\nconst store = [];\nlet storeCursor = 0;\n\nconst useState = (initialState) => {\n  const _closureCursor = storeCursor;\n  store[_closureCursor] = store[_closureCursor] || initialState;\n\n  const setState = (newState) => {\n    store[_closureCursor] = newState;\n    rerender();\n  };\n\n  storeCursor++;\n  return [store[_closureCursor], setState];\n};\n\nconst promiseCache = new Map();\nconst createResource = (cb, key) => {\n  // console.log(cb, key);\n  if (promiseCache.has(key)) return promiseCache.get(key);\n\n  throw { promise: cb(), key };\n};\n\nconst App = () => {\n  const [value, setValue] = useState(25);\n  const [history, setHistory] = useState([]);\n\n  const getPokemon = createResource(\n    () =>\n      fetch(`https://pokeapi.co/api/v2/pokemon/${value}`)\n        .then((res) => res.json())\n        .then((res) => {\n          const pokemon = {\n            sprite: res.sprites.front_default,\n            name: res.name,\n            id: res.id,\n          };\n          setHistory([\n            ...history.filter((poke) => poke.name !== pokemon.name),\n            pokemon,\n          ]);\n          return pokemon;\n        })\n        .catch((err) => console.log(`Pokemon not found`)),\n    `pokemon-${value}`\n  );\n\n  const getLogo = createResource(\n    () =>\n      fetch(`https://pokeapi.co/api/v2/item/1`)\n        .then((res) => res.json())\n        .then((data) => data.sprites.default)\n        .catch((err) => console.log(err)),\n    \"logo\"\n  );\n\n  return (\n    <div className=\"react-from-scratch-pokemon-finder\">\n      <header>\n        <img className=\"logo\" src={getLogo} alt=\"item\" />\n        <h2>PokÃ© Finder</h2>\n      </header>\n      <main>\n        <div className=\"content\">\n          {getPokemon ? (\n            <div>\n              <img className=\"poke-img\" src={getPokemon.sprite} alt=\"pokemon\" />\n              <p className=\"poke-name\">- {getPokemon.name} -</p>\n            </div>\n          ) : (\n            <div className=\"not-found\">\n              <h1>ðŸ˜¢ðŸ˜¢ðŸ˜¢</h1>\n              <h1>Pokemon not found</h1>\n            </div>\n          )}\n          <input\n            className=\"poke-input\"\n            type=\"text\"\n            value={value}\n            onchange={(e) => setValue(e.target.value)}\n            placeholder=\"Enter PokÃ©mon name Or Number\"\n          />\n        </div>\n        <div className=\"poke-history\">\n          {history?.map((item) => (\n            <div\n              className=\"history-item\"\n              onclick={(e) => setValue(e.target.id)}\n            >\n              <img\n                id={item.id}\n                className=\"history-img\"\n                src={item.sprite}\n                alt=\"pokemon\"\n              />\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nconst render = (element, container) => {\n  if ([\"string\", \"number\"].includes(typeof element)) {\n    container.appendChild(document.createTextNode(String(element)));\n    return;\n  }\n\n  if (Array.isArray(element)) {\n    element.forEach((el) => render(el, container));\n    return;\n  }\n\n  const actualDomElement = document.createElement(element?.tag);\n  // console.log(`actualDomElement`, actualDomElement);\n  if (element?.props) {\n    const keys = Object.keys(element.props);\n    const filteredKeys = keys.filter((key) => key !== \"children\");\n    filteredKeys.forEach((key) => {\n      // console.log(`actualDomElement[key]`, actualDomElement[key]);\n      // console.log(`element.props[key]`, element.props[key]);\n      return (actualDomElement[key] = element.props[key]);\n    });\n  }\n  if (element?.props?.children) {\n    element.props.children.forEach((child) => {\n      render(child, actualDomElement);\n    });\n  }\n\n  container.appendChild(actualDomElement);\n};\n\nconst rerender = () => {\n  storeCursor = 0;\n  document.getElementById(\"root\").firstChild?.remove();\n  render(<App />, document.getElementById(\"root\"));\n  (\n    document.getElementsByClassName(\"poke-input\")[0] as HTMLInputElement\n  )?.focus();\n};\n\nrender(<App />, document.getElementById(\"root\"));\n"],"names":[],"version":3,"file":"index.ad9a7e97.js.map","sourceRoot":"/__parcel_source_root/"}